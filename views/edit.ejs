<div class="flex items-center justify-center p-12">
  <div class="mx-auto w-full max-w-[550px]">

    <form action="/contact/update" method="POST" id="add-contact">

      <input type="hidden" name="oldName" value="<%= fullName.slice(0, fullName.length).join(' ') %>">

      <!-- Is set errors -->
      <% if (typeof errors !== 'undefined') { %>
      <div class="flex bg-red-100 rounded-lg p-4 mb-4 text-sm text-red-700" role="alert">
        <svg class="w-5 h-5 inline mr-3" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
        </svg>
        <div>
          <span class="font-medium">Form Error!</span>
          <ul>
            <% errors.forEach(error => { %>
            <li><%= error.msg %></li>
            <% }) %>
          </ul>
        </div>
      </div>
      <% } %>

      <div class="-mx-3 flex flex-wrap">
        <div class="w-full px-3 sm:w-1/2">
          <div class="mb-5">
            <label for="fName" class="mb-3 block text-base font-medium text-[#07074D]">
              First Name
            </label>
            <input type="text" name="fName" id="fName" placeholder="First Name" required value="<%= fullName[0] %>" class="w-full rounded-md border border-[#e0e0e0] bg-white py-3 px-6 text-base font-medium text-[#6B7280] outline-none focus:border-[#6A64F1] focus:shadow-md" />
          </div>
        </div>
        <div class="w-full px-3 sm:w-1/2">
          <div class="mb-5">
            <label for="lName" class="mb-3 block text-base font-medium text-[#07074D]">
              Last Name <small><i>(optional)</i></small>
            </label>
            <input type="text" name="lName" id="lName" placeholder="Last Name" value="<%= fullName.slice(1, fullName.length).join(' ') %>" class="w-full rounded-md border border-[#e0e0e0] bg-white py-3 px-6 text-base font-medium text-[#6B7280] outline-none focus:border-[#6A64F1] focus:shadow-md" />
          </div>
        </div>
      </div>

      <div class="-mx-3 flex flex-wrap">
        <div class="w-full px-3 sm:w-1/2">
          <div class="mb-5">
            <label for="number" class="mb-3 block text-base font-medium text-[#07074D]">
              Phone Number
            </label>
            <input type="number" name="noHP" id="number" placeholder="Phone Number" maxlength="13" required value="<%= contacts.noHP %>" class="w-full rounded-md border border-[#e0e0e0] bg-white py-3 px-6 text-base font-medium text-[#6B7280] outline-none focus:border-[#6A64F1] focus:shadow-md" />
          </div>
        </div>
        <div class="w-full px-3 sm:w-1/2">
          <div class="mb-5">
            <label for="email" class="mb-3 block text-base font-medium text-[#07074D]">
              Email
            </label>
            <input type="email" name="email" id="email" placeholder="Email" required value="<%= contacts.email %>" class="w-full rounded-md border border-[#e0e0e0] bg-white py-3 px-6 text-base font-medium text-[#6B7280] outline-none focus:border-[#6A64F1] focus:shadow-md" />
          </div>
        </div>
      </div>

      <div class="flex justify-between py-3">
        <input type="hidden" name="fullName" class="name-input" value="">
        <button type="submit" onclick="setFullName()" class="middle none center mr-4 rounded-lg bg-blue-500 py-3 px-6 font-sans text-xs font-bold uppercase text-white shadow-md shadow-blue-500/20 transition-all hover:shadow-lg hover:shadow-blue-500/40 focus:opacity-[0.85] focus:shadow-none active:opacity-[0.85] active:shadow-none disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none" data-ripple-light="true">
          Update
        </button>
        <a href="/contact/<%= fullName.slice(0, fullName.length).join(' ') %>" class="text-blue-400">&laquo; Go Back</a>
      </div>

    </form>

  </div>
</div>

<script>
  const setFullName = () => {
    const firstName = document.querySelector("#fName").value;
    const lastName = document.querySelector("#lName").value;
    var fullNameInput = document.querySelector(".name-input");

    fullNameInput.value = `${firstName} ${lastName}`
  }
</script>